#!/usr/bin/env bash

set -e

# we need qemu-kvm here but libvirt-devel pulls this in
dnf -y install \
    awscli2 \
    btrfs-progs-devel \
    cloud-utils \
    device-mapper-devel \
    libvirt-devel \
    gcc \
    go \
    gpgme-devel \
    krb5-devel \
    osbuild \
    osbuild-depsolve-dnf \
    osbuild-luks2 \
    osbuild-lvm2 \
    osbuild-ostree \
    osbuild-selinux \
    podman \
    python3 \
    python3-pip \
    python3-pytest \
    yamllint \
    xz

# for mkksiso
dnf install -y lorax

# we need this for the qemu boot tests and for any python tests but
# could skip it for other testing.
pip install .
